generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:1234@localhost:3306/cosecha-directa-bd"
}

model administrator {
  id_administrator Int    @id
  username         String
  password         String
  name             String
}

model configuration {
  id_configuration Int    @id
  color_palette    String @db.VarChar(100)
  language         String @db.VarChar(5)
  user             user[]
}

model location {
  id_location     Int        @id
  location_name   String     @db.VarChar(200)
  location_parent Int?
  location_type   String?    @db.VarChar(1)
  location        location?  @relation("locationTolocation", fields: [location_parent], references: [id_location], onDelete: NoAction, onUpdate: NoAction, map: "LOC_LOC_FK")
  other_location  location[] @relation("locationTolocation")
  user            user[]

  @@index([location_parent], map: "LOC_LOC_FK_idx")
}

model user {
  id_user          Int            @id @default(autoincrement())
  producer_name    String         @db.VarChar(200)
  username         String         @db.VarChar(100)
  password         String         @db.VarChar(100)
  description      String?        @db.VarChar(100)
  user_img         String?        @db.VarChar(100)
  configuration_id Int?
  location_id      Int?
  role             String         @db.VarChar(30)
  configuration    configuration? @relation(fields: [configuration_id], references: [id_configuration], onDelete: NoAction, onUpdate: NoAction, map: "PRO_CON_FK")
  location         location?      @relation(fields: [location_id], references: [id_location], onDelete: NoAction, onUpdate: NoAction, map: "PRO_LOC")

  @@index([configuration_id], map: "PRO_CON_FK_idx")
  @@index([location_id], map: "PRO_LOC_idx")
}
